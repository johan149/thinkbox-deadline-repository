#!/bin/bash -xe
# Dockerhub build script
installer_url="https://github.com/johan149/thinkbox-deadline-repository/releases/download/10.1.0.12/DeadlineRepository-10.1.0.12-linux-x64-installer.run"
mongodb_url="http://downloads.mongodb.org/linux/mongodb-linux-x86_64-debian81-3.2.18.tgz"
libssl1_url="http://security.debian.org/debian-security/pool/updates/main/o/openssl/libssl1.0.0_1.0.1t-1+deb8u12_amd64.deb"
curl -OL $installer_url
curl -OL $mongodb_url
curl -OL $libssl1_url
installer="*.run"
mongodbbin="*.tgz"
libssl1ins="*.deb"
chmod +x $installer
docker build --build-arg DEADLINE_INSTALLER=$installer --build-arg MONGODB_TGZ=$mongodbbin --build-arg LIBSSL1_INSTALLER=$libssl1ins -t $IMAGE_NAME .
